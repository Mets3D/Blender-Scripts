Rain Face Timeline
Some notes about the current state of each area of Rain's face rig:
	Eyes - (As far as I'm concerned) Basically done, just needs minor polish.
	Eyebrows - Almost done, but might need some adjustments or more low level controls, which could prove challenging, but imo these are non-essential improvements.
	Nose - As far as I'm concerned done, but didn't get feedback on it yet. I don't expect any challenges.
	Mouth - These areas need a lot of work and iteration.
		Lips & Cheeks - Not much functionality right now. Probably going to be the hardest part. I have some idea of what the animators want, but I expect there will be a lot of back and forth on this.
		Jaw - Works fairly well imo, but never showed it to animators yet. Just need to make sure it continues to work well while we're making changes to the lips & cheeks.

With these things in mind, here's my estimate of how long finishing the face might take:
Week 1: (hopefully starting Sept 23)
	- Rig teeth and tongue. I don't expect any issues or much need for iteration here.
	- Get feedback on jaw, eyes, eyebrows & nose so they can be finished.
Week 2: (Sept 29)
	====Schedule offset by 2 days for scale discussions and fix===
	- Initial implementation of lip & cheek controls. (No shape keys yet) I expect lots of iteration needed for this.
Week 3: 
	- Implement feedback on eyes, eyebrows & nose, including shape keys where needed. Hopefully this is their final state.
	- Implement feedback on jaw. I expect this to be minimal... Major changes to this could be a big problem. Stashing the feedback away for the next project is always an option ;)
	- Add lattice controls. (More can be added any time, on demand.)
	- Some more work on lip & cheek controls, and gathering feedback.
Week 4-5:
	- Implement feedback on lip & cheek -> get feedback -> repeat many times.
	- Once we are fairly happy and are down to smaller changes, start adding shape keys.
	- Finalize lip & cheek controls.
Week 6:
	- More polish, mirror everything and make sure it doesn't break.

After the face is done, there is still some wrap-up work to do before we can call the entire rig finished.
Week 7-8:
	- Rigging the hair (if we need anything fancy, but this is probably non-essential.)
	- Rigging the clothes (this will be a bit tricky, since we can't transfer shape keys between meshes easily... I expect some unique problems...)
	- Final cleanup, making sure everything is consistently named, organized, WORKS, etc.
	- Ready to show to the world....??



I should make an addon to help the editing of shape keys and weights in any order.
	Let me weight paint after saving the geometry of a mesh with a certain shape key, then have an option to re-adjust the shape key with the new weights to give the same shape.
		It would be best if this could run on every brush stroke, but I guess that won't be possible.
	Figure out how to make it so that, in order to achieve a desired shape, the weights are re-distributed such that the least amount of work possible has to be done by shape keys, while everything else is done by bones.
		This seems super difficult, since bones can do a lot of things, like move, rotate, and scale, while shape keys can only move along a line.

Write a document about some of the challenges and improvements made over the past few weeks, include the videos.
Write a document about how the rig could be replicated on a new character. What scripts need to be written, etc.
To make a rig generator, I need to learn how to use the new Rigify.

Body/Limbs
	LOW FK-Thumb2.R rotation should affect palm bulge
	MEDIUM I think thigh might need some updates to be up to date with current shoulder tech. I wonder if its twist is managed(countered) correctly in IK mode.
	MEDIUM Improve shoulder deformation
	
	Scale propagation
		Knee, butt and shoulder deform correctives need to be replaced by shape keys.
			They are also currently parented to STR- bones, which is not necessarily bad but probably worth noting?
				The reason for this is because DEF- bones don't inherit scale, they get their scale from BBone scale, which can only be inherited by Armature Constraint, which works poorly for some reason.
					This does mean that we cannot parent anything to DEF- bones, which is not ideal.
		Teeth need Copy Scale constraints just like face deform bones. Make sure this is the first constraint in the stack.

	LOW If we have some extra time, I'd like to try to re-add the Auto-Clavicle functionality as an option.

	DONE Stretch controls are kind of a total mess right now, especially when it comes to rotating them.
		Scaling any parent of STR-Elbow.L fucks up the IK stretching trick on it.
		We could hook up the Y scale of stretch controls to the Ease In/Out values, the X and Z scale values to the Bbone X/Y In/Out scales, via drivers.

Clothes
	HIGH Write a script to transfer shape keys from base mesh to the clothes with Surface Deform modifier. Also need to copy drivers, and then clean up weights and shape keys.
	MEDIUM Come up with something to make the shirt not look glued to her skin.


Face
	DONE Let outer eyebrow corner side less side to side when eyebrow master is pulled down.
	CTR2-P-Eyebrow_1.L has a translating action constraint instead of its parent.
	expose eye master thing MSTR-Eyering.L
	When MSTR-Head_Lower is rotated, the cheeks/jaw is losing too much volume
	Delete auto translation thing on the jaw.

	3 new controls for the cheek:
		- Cheek puff (lattice or shape key magic probably)
		- DONE Outer Upper cheek (action methinks)
		- Inner cheek(sneer control) 
			- also auto-trigger this when lip corner is pushed up.

	Lip roll should affect the corners a lot less, and not aim for so much a kiss shape, but instead aim for just rolling the lips in whatever pose they're in.
	It should roll over the teeth, so made with the assumption that it's used when the mouth is open. If we have time, can try to do something clever to make it work when the mouth is closed.

	Lip corners moving left/right and up/down should not move the lip corners forward/back. Instead, the lip control should be unlocked on its forward axis and only move the lip corner forward/back when moved along that axis. This means we will either need 3 actions to combine properly, or not use actions at all.
	Rotation of lip corner control should affect the... rotation of the corner of the lips.

	Add a lip zip functionality to scaling lip corner controls. If possible, make it so that scaling the bone up makes the lip shape more round.

	LipWide action is currently sort of adding volume to the lips, by not squashing it. Make it squash, and let it lose volume, especially on the corners.
		https://storage.googleapis.com/blender-chat/r3Jx5ugeNPpZscrbD%2Fuploads%2F4bamYr64tNsi3KrZ8MmkqfDTXo3uR6jLLK%2F4bamYr64tNsi3KrZ8%2FSPvdKCzXa4GuurWir?GoogleAccessId=blender-chat%40blender-chat.iam.gserviceaccount.com&Expires=1571405643&Signature=rFrbG0VZ44J65DpiHGzR1WCO6wiNBQ2TH%2BODjhnJTDWGZ5TUJhJA3%2Ft3uPWKAbSgvB8NkjdeDIzF%2BzdOsgV9DCQDOx%2FZqJbwlUycMFZrBof6kfnWAN2%2F%2FSLrHKF%2BxvLXMZ%2FBw0oNg9THOEEjuxAr5YOr8JkN5Wh%2FfXVt6sMZc5gITAZJ5a9jrojP1c5fglkQEeekKN1GjjJotuKat6F5sepWzhxVuEE2aYYw9LFYP5Jux8Tc%2BiaFLMulnoZRLJMN4hrvCl5zDNkTiVtVEso20L0JS9rErMBPO%2BUjjSGhHAwYCBEhwd92dG%2BQxUPXpaJfa7XbLrDMpEfZsSQmVB2VDA%3D%3D&response-content-disposition=inline

	Make the nostrils react less to Lip_Wide and more to Lip_UpDown.
	Give face CTR- bones some colors.

	DONE Make the eyebrow master behave more like a parent. Get rid of rotation-based action stuff. Middle eyebrow is not moving with the masters right now.
	DONE but I'm not sure if it's perfect?
		DONE Similar thing for the eye ring. Hide the current action-based thing away in case it will be useful, but possibly delete in the future.
	DONE For the eyelids, let it rotate along the forward axis. The CTR2/CONST bones should have a Limit Distance to stick it to the eye, and then an action should "rotate the eyelids".
	DONE Make lower eyering behave more parent-like than action-like, same as we did with the upper eyering.
	DONE Make the tweak bones for the eyebrow, eyering and eyelid bigger, and move them to a more prominent layer.
	
	DONE There should be a CTR- bone for the nose bridge.

	DONE When eyebrows are pulled down, let the corners resist a little bit so the eyebrow makes a nicer shape when pulled down.
	
	DONE Eyering shouldn't be affected by the eyelid (turn off automatic tangent functionality on those columns of bbones, I guess?)
	
	DONE When the eyering and eyebrow are pulled down but the eyelid isn't, make sure it makes a clean shape.
	
	DONE Make the eyebrow CTR bones aligned with the geometry just like we did on the lips.
	DONE Make the eyebrow master as well as the CTR bones tilted a bit, such that when they are moved on their local up axis, they behave according to the rule of thumb that says the eyebrows never move straight up or down. They should be tilted on both left-right and forward-back axes.
	LOW (Kinda DONE?) Try to see if eyebrow CTR can behave a bit better when rotated, but not high priority.
	
	DONE Lattice controls should pivot from the center of the face(near lower eyelid)
	DONE Top/Bottom latice controls should have more influence
	
	DONE Old (action-based) eyelid controls on finger layer
	BUGFIXED Clothing drivers broken T70919

	DONE STR-P-UpperLip and lower are not visible without x-ray
	DONE Make eyering CTR- bones bigger and move to Face Primary layer.
	When lips roll in, try to preserve a more round shape while rolling.
		The thing is, it feels like this round shape should exist by default. Maybe this is a matter of base shape?
	When lips roll in, moustache area should 1.) have some way to be controlled 2.) be a bit more puffy.
		Same for lower lip. Lower moustache area.

	Shouldn't lip corner and lip roll controls be owned by some child of TGT-MSTR-Mouth_Pivot ?
	Lip CTR- bones are too small and not visible without x-ray!

	Eyering CTR- bones should copy scale from their MSTR controls instead of the MSTR control one layer above(MSTR-Eyering)
	But then again, I'm not a fan of these copy scale constraints to begin with. I need to remind myself why they exist.
		I guess I did them because the face setup script relies on DEF- bones being parented as chains.
		But this is utterly flawed. This scale must be inherited from the CTR- parents appropriately. Copy Scale != Inherit Scale. That said, an Inherit Scale constraint would be interesting.
		Idea: 
			Store DEF- children in a custom property, then if we still need the face setup script we can rely on that custom property instead of the actual child.
			Then parent DEF- bones to CTR- bones and inherit some sort of scale, and nuke the Copy Scale constraints, and hope that doesn't work like shit.



	DONE We want lattice-like controls with bones, so we can get similar behavior while still letting the controls not become disconnected.
	DONE There would be two of these, one for the upper and one for the lower face. 
		DONE The upper would not affect the nose but the lower would.
	DONE Add lattice and lattice-like master bone controls for the eye.
	Add some shapes for upper/lower face master controls. Same for eyering/eye master controls.
	
	Slap some simple shape keys in there to get the nose wrinkles and better eyebrow shapes, at least when moved with the master control.

	LOW Adjust weighting of the gums, such that they are weighted to face bones? Not sure about this... But I guess at least for the front area of the gums it could work and could be useful. Worth an experiment if we have the time.

	Improve visuals of CTR2-Nose_Main (make a shape, make it yellow, rename to MSTR-Nose, make it orient with the nose with a DSP- bone)

	Add sneer control?
	MSTR-Eyering_Upper is an exposed control with a translating Action constraint. Needs a CONST- bone or someone to fix that bug.

	NEXT RIG Hook up the scale of CTR bones to the bbone scale of deform bones.
	NEXT RIG Think about how to add more lower level control for the eyebrows.

On release/updates
	Find constraints that are disabled and remove them.
	Make sure no invalid constraints or drivers exist (and driver is not showing any warnings of any kind)
	Make script to nuke unnecessary curves in actions (performance boost).
	Set "dev" custom property on the rig to 0 to hide mech layers from the UI.
	Fix UVs if they weren't already?
	Make sure Armature modifiers are in the right place in the stack(ie. above SubSurf)
	Lock object transforms? Disable selectability?
	Make sure bones, objects, shapes, and object data are named properly.
	Make sure armature looks decent in all display modes. (no oversized envelopes or bbones, even with bone shapes disabled)
	Clean up bone shapes collection, maybe make a script to resize bones to a uniform scale and then adjust bone shape settings accordingly so they maintain their display size.